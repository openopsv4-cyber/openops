<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CampusMate</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            min-height: 100vh;
        }

        .app-shell {
            padding-top: 5rem;
            padding-bottom: 3rem;
        }

        .list-group-item {
            transition: background-color 0.15s ease, box-shadow 0.15s ease;
            padding: 1rem 1.25rem;
        }

        .list-group-item:hover {
            background-color: #f8f9fa;
            box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
        }

        .btn-outline-primary,
        .btn-outline-danger {
            min-width: 70px;
        }

        @media (max-width: 576px) {
            .btn-outline-primary,
            .btn-outline-danger {
                min-width: auto;
            }
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        .dropdown-menu {
            max-height: 200px;
            overflow-y: auto;
        }

        .task-item-content {
            min-width: 0;
            flex: 1 1 auto;
        }

        .task-actions {
            flex-shrink: 0;
        }

        .star-rating-container {
            display: flex;
            gap: 0.25rem;
            font-size: 2rem;
            cursor: pointer;
            user-select: none;
        }

        .star-rating-container .star {
            color: #ddd;
            transition: color 0.2s ease;
        }

        .star-rating-container .star:hover,
        .star-rating-container .star.active {
            color: #ffc107;
        }

        .star-rating-container .star.filled {
            color: #ffc107;
        }

        /* Dark blue shadows to match theme */
        .shadow-sm {
            box-shadow: 0 0.125rem 0.25rem rgba(5, 40, 120, 0.5) !important;
        }

        .shadow {
            box-shadow: 0 0.5rem 1rem rgba(5, 40, 120, 0.55) !important;
        }

        .shadow-lg {
            box-shadow: 0 1rem 3rem rgba(5, 40, 120, 0.6) !important;
        }

        /* Custom shadow for list items */
        .list-group-item:hover {
            box-shadow: inset 0 0 0 1px rgba(5, 40, 120, 0.35) !important;
        }

        /* Card shadows */
        .card {
            box-shadow: 0 0.125rem 0.25rem rgba(5, 40, 120, 0.5) !important;
        }

        /* Navbar shadow */
        .navbar.shadow-sm {
            box-shadow: 0 0.125rem 0.25rem rgba(5, 40, 120, 0.5) !important;
        }

        /* Footer styles */
        footer a {
            transition: color 0.2s ease;
        }

        footer a:hover {
            color: #fff !important;
        }

        .border-white-50 {
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        /* Accordion improvements */
        .accordion-button:not(.collapsed) {
            background-color: #f8f9fa;
            color: #0d6efd;
        }

        .accordion-button:focus {
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
        }

    </style>
  </head>
<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="#">CampusMate</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0" id="nav-links">
                    <li class="nav-item">
                        <a class="nav-link active" data-page="home" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-page="tasks" href="#">Tasks</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-page="events" href="#">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-page="complaints" href="#">Complaints</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-page="permissions" href="#">Permissions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-page="feedback" href="#">Feedback</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-page="assistant" href="#">AI Assistant</a>
                    </li>
                </ul>
                <div class="navbar-nav ms-3" id="user-nav">
                    <span class="navbar-text text-white me-3 d-none" id="user-display">
                        <span id="username-display"></span>
                        <span class="badge bg-light text-dark ms-2" id="user-role-badge"></span>
                    </span>
                    <button class="btn btn-outline-light btn-sm d-none" id="logout-btn">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="app-shell">
        <div class="container">

            <section id="home-section" class="page-section active">
                <!-- Hero Section -->
                <div class="text-center mb-5 py-4">
                    <p class="text-uppercase text-secondary fw-semibold mb-1">Welcome to your digital HQ</p>
                    <h1 class="display-4 fw-bold text-primary mb-3">CampusMate</h1>
                    <p class="lead text-muted mb-4">Your all-in-one platform for managing tasks, events, complaints, permissions, and more. Stay organized and connected on campus.</p>
                </div>

                <!-- Features Section -->
                <div class="mb-5">
                    <h2 class="text-center fw-bold text-primary mb-4">Key Features</h2>
                <div class="row g-4">
                        <div class="col-md-6 col-lg-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex align-items-center gap-3 mb-3">
                                        <span class="badge rounded-pill text-bg-primary">üìã</span>
                                        <span class="badge rounded-pill text-bg-light text-dark">Tasks</span>
                                </div>
                                    <h4 class="card-title">Task Management</h4>
                                    <p class="card-text text-muted">Create, organize, and track your assignments and to-dos. Set visibility levels and filter tasks easily.</p>
                            </div>
                        </div>
                    </div>
                        <div class="col-md-6 col-lg-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex align-items-center gap-3 mb-3">
                                        <span class="badge rounded-pill text-bg-success">üìÖ</span>
                                        <span class="badge rounded-pill text-bg-light text-dark">Events</span>
                                </div>
                                    <h4 class="card-title">Campus Events</h4>
                                    <p class="card-text text-muted">Discover and manage campus events. View event details, registration info, and attendance tracking.</p>
                            </div>
                        </div>
                    </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex align-items-center gap-3 mb-3">
                                        <span class="badge rounded-pill text-bg-warning text-dark">üì¢</span>
                                        <span class="badge rounded-pill text-bg-light text-dark">Complaints</span>
                </div>
                                    <h4 class="card-title">Complaint System</h4>
                                    <p class="card-text text-muted">Submit and track complaints across different categories. Get your issues addressed efficiently.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex align-items-center gap-3 mb-3">
                                        <span class="badge rounded-pill text-bg-info text-dark">üìÑ</span>
                                        <span class="badge rounded-pill text-bg-light text-dark">Permissions</span>
                                    </div>
                                    <h4 class="card-title">Permission Letters</h4>
                                    <p class="card-text text-muted">Upload and manage PDF permission documents. Easy access to all your permission letters.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex align-items-center gap-3 mb-3">
                                        <span class="badge rounded-pill text-bg-secondary">üí¨</span>
                                        <span class="badge rounded-pill text-bg-light text-dark">Feedback</span>
                                    </div>
                                    <h4 class="card-title">Feedback System</h4>
                                    <p class="card-text text-muted">Share your thoughts and suggestions with star ratings. Help us improve the platform.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex align-items-center gap-3 mb-3">
                                        <span class="badge rounded-pill text-bg-danger">ü§ñ</span>
                                        <span class="badge rounded-pill text-bg-light text-dark">AI Assistant</span>
                                    </div>
                                    <h4 class="card-title">AI Assistant</h4>
                                    <p class="card-text text-muted">Get help with your tasks and questions using our AI-powered assistant. Save AI responses as tasks.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- About Section -->
                <div class="mb-5 py-4">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body p-5">
                            <h2 class="text-center fw-bold text-primary mb-4">About CampusMate</h2>
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <h4 class="fw-semibold mb-3">Our Mission</h4>
                                    <p class="text-muted">CampusMate is designed to streamline campus life by providing a centralized platform for students, coordinators, and administrators. We aim to simplify task management, event coordination, complaint handling, and administrative processes.</p>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="fw-semibold mb-3">Key Benefits</h4>
                                    <ul class="text-muted">
                                        <li>Local data storage for privacy and security</li>
                                        <li>Role-based access control (User, Coordinator, Admin)</li>
                                        <li>Real-time updates and instant synchronization</li>
                                        <li>User-friendly interface with modern design</li>
                                        <li>Comprehensive campus management tools</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-top">
                                <div class="row g-3 text-center">
                                    <div class="col-md-3">
                                        <h3 class="fw-bold text-primary">100%</h3>
                                        <p class="text-muted mb-0">Local Storage</p>
                                    </div>
                                    <div class="col-md-3">
                                        <h3 class="fw-bold text-primary">3</h3>
                                        <p class="text-muted mb-0">User Roles</p>
                                    </div>
                                    <div class="col-md-3">
                                        <h3 class="fw-bold text-primary">6+</h3>
                                        <p class="text-muted mb-0">Core Features</p>
                                    </div>
                                    <div class="col-md-3">
                                        <h3 class="fw-bold text-primary">24/7</h3>
                                        <p class="text-muted mb-0">Accessible</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQs Section -->
                <div class="mb-5">
                    <h2 class="text-center fw-bold text-primary mb-4">Frequently Asked Questions</h2>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                    How do I create a new task?
                                </button>
                            </h2>
                            <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Navigate to the <strong>Tasks</strong> page from the main menu. Enter your task description in the input field and click "Save Task". You can set visibility to "Public" or "Admin Only" depending on your role. Tasks are automatically saved to your browser's local storage.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                    What are the different user roles and their permissions?
                                </button>
                            </h2>
                            <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <strong>User:</strong> Can create tasks, submit complaints, view events, and provide feedback. <strong>Coordinator:</strong> Has all user permissions plus the ability to create and manage events. <strong>Admin:</strong> Has full access including data export/import, viewing all tasks regardless of visibility, and managing all system components.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                    How do I register for a campus event?
                                </button>
                            </h2>
                            <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Go to the <strong>Events</strong> page to browse all available campus events. Click on any event to view its details. If a registration link is provided, you can click it to register. Some events may have attendance tracking enabled, which coordinators can manage.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                    Where is my data stored?
                                </button>
                            </h2>
                            <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    All your data is stored locally in your browser's local storage. This means your information stays on your device and is not sent to any external servers. Your data persists between sessions, so you can close the browser and return to find everything as you left it.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                    How do I submit a complaint?
                                </button>
                            </h2>
                            <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Visit the <strong>Complaints</strong> page and fill out the complaint form. Select a category (Academic, Infrastructure, Administrative, or Other), provide a detailed description, and submit. You can track the status of your complaints in the "My Complaints" section.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                                    Can I upload permission letters?
                                </button>
                            </h2>
                            <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Yes! Admins can upload PDF permission letters on the <strong>Permissions</strong> page. All users can view and download these permission documents. Use the search function to quickly find specific permission letters by filename.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">
                                    How does the AI Assistant work?
                                </button>
                            </h2>
                            <div id="faq7" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    The AI Assistant helps you with questions and task management. Simply type your prompt or question in the AI Assistant page, and get intelligent responses. You can save AI-generated suggestions directly as tasks. Admins can control the visibility of saved AI responses.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq8">
                                    What happens if I clear my browser data?
                                </button>
                            </h2>
                            <div id="faq8" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    If you clear your browser's local storage, all your data (tasks, events, complaints, etc.) will be lost. Admins can export data as a JSON file for backup. We recommend exporting your data regularly if you want to preserve it across different devices or browsers.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq9">
                                    Can I filter and search my tasks?
                                </button>
                            </h2>
                            <div id="faq9" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Absolutely! On the Tasks page, you can filter tasks by visibility (All, My Tasks, Public, Admin Only), search tasks by keywords, and sort them by newest, oldest, or alphabetically (A-Z or Z-A). This makes it easy to find exactly what you're looking for.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 shadow-sm mb-3">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq10">
                                    How do I provide feedback?
                                </button>
                            </h2>
                            <div id="faq10" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Go to the <strong>Feedback</strong> page, write your message, and optionally rate your experience using the star rating system (1-5 stars). Click "Submit" to send your feedback. Your feedback helps us improve the platform and better serve the campus community.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Data Tools (kept for admins) -->
                <div id="admin-data-tools" class="card border-0 shadow-sm mx-auto mb-5 d-none" style="max-width: 600px;">
                    <div class="card-body">
                        <div class="d-flex align-items-center justify-content-between mb-3">
                            <div>
                                <h5 class="card-title mb-1">Admin Data Controls</h5>
                                <p class="text-muted small mb-0">Export or import full app backups.</p>
                            </div>
                            <span class="badge text-bg-warning text-dark">Admins Only</span>
                        </div>
                        <div class="mb-3">
                            <button id="export-data-btn" class="btn btn-outline-primary w-100">Export Data (.json)</button>
                        </div>
                        <div>
                            <button id="import-data-btn" class="btn btn-outline-danger w-100 mb-2">Import Data</button>
                            <input type="file" id="import-file-input" class="form-control" accept=".json,application/json">
                            <small class="text-muted d-block mt-2">Importing replaces all existing users and tasks.</small>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tasks-section" class="page-section">
                <header class="mb-5 text-center">
                    <p class="text-uppercase text-secondary fw-semibold mb-1">Your campus productivity hub</p>
                    <h2 class="fw-bold text-primary">Organize tasks and stay on track</h2>
                    <p class="text-muted mb-0">Capture quick notes, plan assignments, and make updates in seconds.</p>
                </header>

                <div class="row g-4 justify-content-center">
                    <div class="col-12 col-lg-5">
                        <div class="card shadow-sm border-0 h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <h5 class="card-title mb-1">Add a Task</h5>
                                        <span class="text-muted small">All entries save instantly to your browser.</span>
                                    </div>
                                    <span class="badge text-bg-success">Live</span>
                                </div>
                                <div class="mb-3">
                                    <label for="input-field" class="form-label text-muted small mb-1">Task description</label>
                                    <input id="input-field" type="text" class="form-control form-control-lg" placeholder="e.g. Submit lab report">
                                </div>
                                <div class="mb-3 d-none" id="visibility-control">
                                    <label for="task-visibility" class="form-label text-muted small mb-1">Visibility</label>
                                    <select id="task-visibility" class="form-select form-select-lg">
                                        <option value="public" selected>Public</option>
                                        <option value="admin">Admin Only</option>
                                    </select>
                                </div>
                                <button id="save-btn" class="btn btn-success w-100 btn-lg">Save Task</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-lg-7">
                        <div class="card shadow-sm border-0 h-100">
                            <div class="card-body d-flex flex-column">
                                <div class="mb-3">
                                    <div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3">
                                        <div>
                                            <h5 class="card-title mb-1">Task List</h5>
                                            <p class="text-muted mb-0">Filter, sort, and update statuses instantly.</p>
                                        </div>
                                        <div class="d-flex align-items-center gap-2">
                                            <span class="badge rounded-pill text-bg-light">Local Storage</span>
                                            <span class="badge rounded-pill text-bg-secondary">Auto Save</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="visibility-filter" class="form-label text-muted small mb-2 fw-semibold">Filter by visibility</label>
                                    <div class="btn-group w-100" role="group" id="visibility-filter">
                                        <input type="radio" class="btn-check" name="visibility-filter" id="filter-all" value="all" autocomplete="off" checked>
                                        <label class="btn btn-outline-primary" for="filter-all">All Tasks</label>
                                        
                                        <input type="radio" class="btn-check" name="visibility-filter" id="filter-my" value="my" autocomplete="off">
                                        <label class="btn btn-outline-primary" for="filter-my">Only My Tasks</label>
                                        
                                        <input type="radio" class="btn-check" name="visibility-filter" id="filter-public" value="public" autocomplete="off">
                                        <label class="btn btn-outline-primary" for="filter-public">Only Public</label>
                                        
                                        <input type="radio" class="btn-check" name="visibility-filter" id="filter-admin" value="admin" autocomplete="off">
                                        <label class="btn btn-outline-primary" for="filter-admin">Admin Only</label>
                                    </div>
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-12 col-md-7">
                                        <label for="search-input" class="form-label text-muted small mb-2 fw-semibold">Search tasks</label>
                                        <div class="input-group input-group-lg">
                                            <span class="input-group-text bg-light border-end-0">üîç</span>
                                            <input id="search-input" type="search" class="form-control border-start-0" placeholder="Type to filter tasks...">
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-5">
                                        <label for="sort-select" class="form-label text-muted small mb-2 fw-semibold">Sort tasks</label>
                                        <select id="sort-select" class="form-select form-select-lg">
                                            <option value="newest" selected>Newest First</option>
                                            <option value="oldest">Oldest First</option>
                                            <option value="az">A ‚Üí Z</option>
                                            <option value="za">Z ‚Üí A</option>
                                        </select>
                                    </div>
                                </div>

                                <ul id="output-list" class="list-group list-group-flush flex-grow-1 rounded-3 overflow-hidden"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="assistant-section" class="page-section">
                <div class="row justify-content-center">
                    <div class="col-12 col-lg-10">
                        <div class="card border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4">
                                    <div>
                                        <p class="text-uppercase text-secondary fw-semibold mb-1">AI Exploration</p>
                                        <h2 class="fw-bold text-primary mb-0">AI Assistant</h2>
                                    </div>
                                    <span class="badge text-bg-info text-dark mt-3 mt-md-0">Placeholder Mode</span>
                                </div>
                                <div class="mb-4">
                                    <label for="ai-input" class="form-label fw-semibold text-muted">Prompt or context</label>
                                    <textarea id="ai-input" class="form-control" rows="5" placeholder="Describe what you need help with..."></textarea>
                                </div>
                                <div class="mb-4">
                                    <label class="form-label fw-semibold text-muted">AI Response</label>
                                    <div id="ai-response" class="border rounded p-3 bg-light text-muted">No response yet. Type a prompt and press Send.</div>
                                </div>
                                <div id="ai-admin-visibility" class="mb-3 d-none">
                                    <label for="ai-visibility-select" class="form-label fw-semibold text-muted">Save visibility</label>
                                    <select id="ai-visibility-select" class="form-select">
                                        <option value="public">Public</option>
                                        <option value="admin">Admin Only</option>
                                    </select>
                                </div>
                                <button id="assistant-submit-btn" class="btn btn-primary" style="margin-top: 10px; width: 150px;">Send</button>
                                <button id="ai-save-task-btn" class="btn btn-success w-100 mt-3">Save as Task</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


            <section id="login-section" class="page-section">
                <div class="row justify-content-center">
                    <div class="col-12 col-md-6 col-lg-5">
                        <div class="card shadow-sm border-0">
                            <div class="card-body p-4">
                                <div class="text-center mb-4">
                                    <h2 class="fw-bold text-primary mb-2">Welcome</h2>
                                    <p class="text-muted">Sign in to manage your tasks</p>
                                </div>

                                <form id="login-form">
                                    <div class="mb-3">
                                        <label for="login-usn" class="form-label">USN</label>
                                        <input type="text" class="form-control form-control-lg" id="login-usn" required autocomplete="username" placeholder="e.g., 1BM24CS001">
                                    </div>
                                    <div class="mb-3">
                                        <label for="login-password" class="form-label">Password</label>
                                        <input type="password" class="form-control form-control-lg" id="login-password" required autocomplete="current-password">
                                    </div>
                                    <button type="submit" class="btn btn-primary w-100 btn-lg mb-3">Sign In</button>
                                </form>

                                <div id="create-account-section" class="d-none">
                                    <hr class="my-4">
                                    <div class="text-center mb-3">
                                        <h5 class="fw-semibold">Create New Account</h5>
                                    </div>
                                    <form id="register-form">
                                        <div class="mb-3">
                                            <label for="register-name" class="form-label">Name</label>
                                            <input type="text" class="form-control form-control-lg" id="register-name" required autocomplete="name">
                                        </div>
                                        <div class="mb-3">
                                            <label for="register-usn" class="form-label">USN</label>
                                            <input type="text" class="form-control form-control-lg" id="register-usn" required placeholder="e.g., 1BM24CS001" pattern="[0-9][A-Z]{2}[0-9]{2}[A-Z]{2}[0-9]{3}" title="Format: e.g., 1BM24CS001">
                                        </div>
                                        <div class="mb-3">
                                            <label for="register-email" class="form-label">College Email</label>
                                            <input type="email" class="form-control form-control-lg" id="register-email" required autocomplete="email" placeholder="example@bmsce.ac.in">
                                            <small class="form-text text-muted">Must be a @bmsce.ac.in email address</small>
                                        </div>
                                        <div class="mb-3">
                                            <label for="register-password" class="form-label">Password</label>
                                            <input type="password" class="form-control form-control-lg" id="register-password" required autocomplete="new-password" minlength="8">
                                            <small class="form-text text-muted">Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.</small>
                                        </div>
                                        <div class="mb-3">
                                            <label for="register-role" class="form-label">Role</label>
                                            <select class="form-select form-select-lg" id="register-role" required>
                                                <option value="user" selected>User</option>
                                                <option value="coordinator">Coordinator</option>
                                                <option value="admin">Admin</option>
                                            </select>
                                        </div>
                                        <button type="submit" class="btn btn-success w-100 btn-lg">Create Account</button>
                                    </form>
                                </div>

                                <div class="text-center mt-3">
                                    <button type="button" class="btn btn-link text-muted" id="toggle-register">
                                        Create Account
                                    </button>
                                </div>

                                <div id="login-error" class="alert alert-danger d-none mt-3" role="alert"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Events Explorer Page -->
            <section id="events-section" class="page-section">
                <header class="mb-5 text-center">
                    <p class="text-uppercase text-secondary fw-semibold mb-1">Campus Events</p>
                    <h2 class="fw-bold text-primary">Discover Upcoming Events</h2>
                </header>
                <div class="mb-4 d-flex justify-content-between align-items-center flex-wrap gap-3">
                    <div class="flex-grow-1" style="max-width: 400px;">
                        <input type="text" class="form-control" id="events-search-input" placeholder="Search events by name, club, or status...">
                    </div>
                    <div id="events-admin-controls" style="display: none;">
                        <button class="btn btn-primary" id="add-event-btn">+ Add Event</button>
                    </div>
                </div>
                <div id="events-list" class="row g-4"></div>
            </section>

            <!-- Event Detail Page -->
            <section id="event-detail-section" class="page-section">
                <div class="mb-3">
                    <button class="btn btn-outline-secondary" id="back-to-events-btn">‚Üê Back to Events</button>
                </div>
                <div id="event-detail-content"></div>
            </section>

            <!-- Event Form Page -->
            <section id="event-form-section" class="page-section">
                <div class="mb-3 d-flex justify-content-between align-items-center flex-wrap gap-2">
                    <button class="btn btn-outline-secondary" id="event-form-back-btn">‚Üê Back to Events</button>
                    <span class="badge text-bg-warning text-dark">Admins & Coordinators</span>
                </div>
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <div class="mb-4">
                            <p class="text-uppercase text-secondary fw-semibold mb-1">Event Management</p>
                            <h2 class="fw-bold text-primary mb-0" id="event-form-heading">Create Event</h2>
                        </div>
                        <form id="event-form" class="row g-4" novalidate>
                            <div class="col-12">
                                <label for="event-club-name" class="form-label">Club Name</label>
                                <input type="text" class="form-control" id="event-club-name" required placeholder="e.g., Robotics Club">
                            </div>
                            <div class="col-12">
                                <label for="event-title" class="form-label">Event Name</label>
                                <input type="text" class="form-control" id="event-title" required placeholder="e.g., AI Hackathon">
                            </div>
                            <div class="col-12">
                                <label for="event-description" class="form-label">Event Description</label>
                                <textarea class="form-control" id="event-description" rows="6" required placeholder="Provide event goals, agenda, and highlights."></textarea>
                                <div class="form-text">Required ‚Äî shown on the Events Explorer and detail page.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="event-status" class="form-label">Event Status</label>
                                <select class="form-select" id="event-status">
                                    <option value="Upcoming">Upcoming</option>
                                    <option value="Started">Started</option>
                                    <option value="Ended">Ended</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="event-registration-fee" class="form-label">Registration Fee</label>
                                <input type="text" class="form-control" id="event-registration-fee" placeholder="e.g., $10 per participant">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label d-block">Attendance Allowed</label>
                                <div class="d-flex gap-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="attendance-allowed" id="attendance-allowed-yes" value="yes">
                                        <label class="form-check-label" for="attendance-allowed-yes">Yes</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="attendance-allowed" id="attendance-allowed-no" value="no" checked>
                                        <label class="form-check-label" for="attendance-allowed-no">No</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 d-none" id="attendance-timing-group">
                                <label for="attendance-timing" class="form-label">Attendance Timing</label>
                                <input type="text" class="form-control" id="attendance-timing" placeholder="e.g., General public from 4‚Äì5 PM">
                            </div>
                            <div class="col-md-6">
                                <label for="event-duration" class="form-label">Event Duration</label>
                                <input type="text" class="form-control" id="event-duration" placeholder="e.g., 3 hours">
                            </div>
                            <div class="col-md-6">
                                <label for="event-start-time" class="form-label">Start Time</label>
                                <input type="datetime-local" class="form-control" id="event-start-time" required>
                            </div>
                            <div class="col-md-6">
                                <label for="event-end-time" class="form-label">End Time</label>
                                <input type="datetime-local" class="form-control" id="event-end-time" required>
                            </div>
                            <div class="col-md-6">
                                <label for="event-registration-link" class="form-label">Registration Link (optional)</label>
                                <input type="url" class="form-control" id="event-registration-link" placeholder="https://">
                            </div>
                            <div class="col-md-6">
                                <label for="event-poster" class="form-label">Poster Upload (optional)</label>
                                <input type="file" class="form-control" id="event-poster" accept="image/*">
                                <div class="form-text">Upload JPG, PNG, or SVG files.</div>
                            </div>
                            <div class="col-12">
                                <div class="alert alert-danger d-none" id="event-form-error"></div>
                            </div>
                            <div class="col-12 text-end">
                                <button type="submit" class="btn btn-primary" id="event-form-submit">Save Event</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Complaints Page -->
            <section id="complaints-section" class="page-section">
                <header class="mb-5 text-center">
                    <p class="text-uppercase text-secondary fw-semibold mb-1">Complaint System</p>
                    <h2 class="fw-bold text-primary">Submit or Manage Complaints</h2>
                </header>
                <div class="row g-4">
                    <div class="col-12 col-lg-4">
                        <div class="card shadow-sm border-0">
                            <div class="card-body">
                                <h5 class="card-title mb-3">Submit Complaint</h5>
                                <form id="complaint-form">
                                    <div class="mb-3">
                                        <label for="complaint-category" class="form-label">Category</label>
                                        <select class="form-select" id="complaint-category" required>
                                            <option value="Academic">Academic</option>
                                            <option value="Infrastructure">Infrastructure</option>
                                            <option value="Administrative">Administrative</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="complaint-description" class="form-label">Description</label>
                                        <textarea class="form-control" id="complaint-description" rows="4" required></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary w-100">Submit</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-8">
                        <div class="card shadow-sm border-0">
                            <div class="card-body">
                                <h5 class="card-title mb-3">My Complaints</h5>
                                <div id="complaints-list"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Permissions Page -->
            <section id="permissions-section" class="page-section">
                <header class="mb-5 text-center">
                    <p class="text-uppercase text-secondary fw-semibold mb-1">Permission Letters</p>
                    <h2 class="fw-bold text-primary">Manage PDF Documents</h2>
                </header>
                <div class="mb-4 d-flex justify-content-between align-items-center flex-wrap gap-3">
                    <div class="flex-grow-1" style="max-width: 400px;">
                        <input type="text" class="form-control" id="permissions-search-input" placeholder="Search by filename...">
                    </div>
                    <div id="permissions-admin-controls" style="display: none;">
                        <button class="btn btn-primary" id="upload-permission-btn">+ Upload PDF</button>
                        <input type="file" id="permission-file-input" class="d-none" accept=".pdf,application/pdf">
                    </div>
                </div>
                <div id="permissions-list" class="row g-4"></div>
            </section>

            <!-- Feedback Page -->
            <section id="feedback-section" class="page-section">
                <header class="mb-5 text-center">
                    <p class="text-uppercase text-secondary fw-semibold mb-1">Feedback System</p>
                    <h2 class="fw-bold text-primary">Share Your Feedback</h2>
                </header>
                <div class="row g-4">
                    <div class="col-12 col-lg-4">
                        <div class="card shadow-sm border-0">
                            <div class="card-body">
                                <h5 class="card-title mb-3">Submit Feedback</h5>
                                <form id="feedback-form">
                                    <div class="mb-3">
                                        <label for="feedback-message" class="form-label">Message</label>
                                        <textarea class="form-control" id="feedback-message" rows="4" required></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Rating (Optional)</label>
                                        <div class="star-rating-container" id="feedback-star-rating">
                                            <span class="star" data-rating="1">‚òÜ</span>
                                            <span class="star" data-rating="2">‚òÜ</span>
                                            <span class="star" data-rating="3">‚òÜ</span>
                                            <span class="star" data-rating="4">‚òÜ</span>
                                            <span class="star" data-rating="5">‚òÜ</span>
                                        </div>
                                        <input type="hidden" id="feedback-rating" value="">
                                    </div>
                                    <button type="submit" class="btn btn-primary w-100">Submit</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-8">
                        <div class="card shadow-sm border-0">
                            <div class="card-body">
                                <h5 class="card-title mb-3" id="feedback-list-title">My Feedback</h5>
                                <div id="feedback-list"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-primary text-white py-5 mt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h5 class="fw-bold mb-3">CampusMate</h5>
                    <p class="text-white-50 mb-0">Your comprehensive solution for managing campus life. Stay organized, connected, and productive.</p>
                </div>
                <div class="col-md-4">
                    <h5 class="fw-bold mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="home">Home</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="tasks">Tasks</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="events">Events</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="complaints">Complaints</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="feedback">Feedback</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5 class="fw-bold mb-3">Features</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="tasks">Task Management</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="events">Event Discovery</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="permissions">Permission Letters</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none" data-page="assistant">AI Assistant</a></li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 border-white-50">
            <div class="row">
                <div class="col-md-6">
                    <p class="text-white-50 mb-0 small">&copy; 2024 CampusMate. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="text-white-50 mb-0 small">Built with ‚ù§Ô∏è for campus communities</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Main App Logic -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
